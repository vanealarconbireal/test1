<!DOCTYPE html>
<html>
  <head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta http-equiv="X-UA-Compatible" content="chrome=1,IE=edge" />
	<title>TEST_1</title>
	<style>
		html {
			height:100%;
		}
		body {
			background-color:#FFF;
			margin:0;
			height:100%;
		}
	</style>
	<!-- copy these lines to your document head: -->

	<meta name="viewport" content="user-scalable=yes, width=380" />
	<script type="text/javascript" src="TEST_1.hyperesources/facebook.js"></script>
	<script type="text/javascript" src="TEST_1.hyperesources/jquery-1.7.2.min.js"></script>
	<script type="text/javascript" src="TEST_1.hyperesources/jquery-ui.min.js"></script>
	<script type="text/javascript" src="TEST_1.hyperesources/jquery.ui.touch-punch.js"></script>
	<link rel="stylesheet" type="text/css" href="TEST_1.hyperesources/slick-theme.css" />
	<link rel="stylesheet" type="text/css" href="TEST_1.hyperesources/slick.css" />
	<script type="text/javascript" src="TEST_1.hyperesources/slick.min.js"></script>
	<link rel="stylesheet" type="text/css" href="TEST_1.hyperesources/style.css" />

       <meta property="og:url"           content="https://www.bireal.cl/asset/bireal_cat"/>
    <meta property="og:type"          content="website"/>
    <meta property="og:title"         content="DYKC Magazine"/>
    <meta property="og:description"   content="Revista Souvenir Do you know Chile?"/>
    <meta property="og:image"         content="https://www.bireal.cl/asset/bireal_cat/PORTADA.jpg"/>	

	<script type="text/javascript" src="TEST_1.hyperesources/jquery-1.7.2.min.js"></script>
	<script type="text/javascript" src="TEST_1.hyperesources/jquery-ui.min.js"></script>
	<script type="text/javascript" src="TEST_1.hyperesources/jquery.ui.touch-punch.js"></script>
	<script type="text/javascript" src="TEST_1.hyperesources/slick.min.js"></script>
	<style>
	.blue h3 {
    
    	line-height: 75px;
    	background-color: rgba(0, 0, 0, 0.7);
    
    }
    
    .slick-selec {
    
    	background-color: black;
    }
    </style>

<!--
	<script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
	-->
	 <script type="text/javascript">
	 
	 				
	
	
	// acá colocas las imagenes en miniatura
	var imageSrcs = ["TEST_1.hyperesources/miniatura_1.jpg", 
	"TEST_1.hyperesources/miniatura_2.jpg",
	"TEST_1.hyperesources/miniatura_3.jpg", 
	"TEST_1.hyperesources/miniatura_4.jpg",
	"TEST_1.hyperesources/miniatura_5.jpg",
	"TEST_1.hyperesources/miniatura_6.jpg",
	"TEST_1.hyperesources/miniatura_7.jpg", 
	"TEST_1.hyperesources/miniatura_8.jpg",
	"TEST_1.hyperesources/miniatura_9.jpg",
	"TEST_1.hyperesources/miniatura_10.jpg",
	"TEST_1.hyperesources/miniatura_11.jpg",
	"TEST_1.hyperesources/miniatura_12.jpg",
	"TEST_1.hyperesources/miniatura_13.jpg",
	"TEST_1.hyperesources/miniatura_14.jpg",
	"TEST_1.hyperesources/miniatura_15.jpg"];
	
	var namesScenes = ["portada", 
	"indice", 
	"empresasservicios",
	"malalcahuello",
	"vpr",
	"video",
	"pabellon",
	"merken",
	"turismo",
	"hoteleria",
	"restaurant",
	"tour",
	"tiendas",
	"servicios",
	"contraportada"];

	
	
	//posiciones del mouse
	xp = 0;
	yp = 0;

	
	XSpeed = [];
	YSpeed = [];
	XPos = 0;
	YPos = 0;
	
	for(var i = 0; i < 15; i++){
	
		XSpeed[i] = 0;
		YSpeed[i] = 0;
	
	}
	
	myInterval = 0;
	velInterval = 0;
	
	//elemento super contenedor
	superpadre = null;


	//Estado de carga de la escena
	var cargandoEscena = false;
	
	//Escena Por Cargar
	var escenaporCargar = -1;
	
	//Se cambio por arrastre y no por click
	var previeneCambioPorClick = false;
	
//following lines are for "adapt document size to window size" funtion
function crearCarrusel(hypeDocument, element, event) {

  window.myHypeContainerId = hypeDocument.documentId();


  superpadre =  document.createElement("DIV");
  superpadre.classList.add("superpadre");
  superpadre.style.position = "fixed";
  superpadre.style.bottom = 0;
  superpadre.style.left = 0;
  superpadre.style.width = document.getElementById(window.myHypeContainerId).clientWidth+"px";
  superpadre.style.width = document.body.clientWidth+"px";



  //document.getElementById(window.myHypeContainerId).appendChild(superpadre);
  document.body.appendChild(superpadre);
	  


  var contenedor = document.createElement("DIV");

  contenedor.classList.add("slider");
  contenedor.classList.add("responsive");
  contenedor.classList.add("blue");
  contenedor.classList.add("center");

  //contenedor.style.position = "absolute";
  //contenedor.style.top = 0;
  //contenedor.style.left = 0;
  contenedor.style.margin = 'unset';
  contenedor.style.zIndex = 999;

  superpadre.appendChild(contenedor);
  document.getElementById(window.myHypeContainerId).classList.add("blue");

  var escenas = hypeDocument.sceneNames();

  function carruselGenerador(){

      
      for(var i = 0; i < namesScenes.length; i++){


        var node = document.createElement("DIV");
        contenedor.appendChild(node);
        
		imagenes
		
		if(i < imagenes.length){
		
			subnode = document.createElement('DIV');
			subnode.classList.add("image");
			subnode.appendChild(imagenes[i]);
			node.appendChild(subnode);
			node.id = "s-"+i;
		
		} else {
		
        	var child = document.createElement("H3"); 
        	var ele = document.createTextNode(i);
        	node.id = "s-"+i;
        
        	node.appendChild(child);
        	
        	child.appendChild(ele);

        
        }

            
         
        
        console.log(namesScenes[i]);

      }


      $('.responsive').on('init', function(slick){

        
        var nodos = this.getElementsByClassName('slick-slide');
        
        for(var i = 0; i < nodos.length; i++){
        
        
          nodos[i].addEventListener("click", function(e){
          
          
              //var ID = this.id;
              
              
              
              if( previeneCambioPorClick )
                return;
          
              var n = this.getAttribute('data-slick-index');
          
              
          
              var ixE = n;
                var ixA = 0;
                
                var currentSlide = $('.responsive').slick('slickCurrentSlide');
                
                
                
                if(ixE!=currentSlide){
                  $('.responsive').slick('slickGoTo',ixE);
                }
                
                indiceEscena = -1;
                
                for(var m = 0; m < escenas.length; m++){
                	if(escenas[m]==namesScenes[ixE]){
                		indiceEscena=m;
                		break;
                	}
                	
                }
                
                console.log("ixE : "+ixE+" ; cS : "+currentSlide+"; indiceScena: "+indiceEscena);
                
                $( ".slick-selec" ).removeClass( "slick-selec" );
                this.classList.add("slick-selec");
                
                //hypeDocument.showSceneNamed(escenas[ixE], hypeDocument.kSceneTransitionPushLeftToRight);
                
                //console.log(hypeDocument.currentSceneName());
                if(!cargandoEscena){
                  escenaporCargar=-1;
                  cargarEscena(escenas, indiceEscena, hypeDocument);					}else
                  escenaporCargar = indiceEscena;
              
            });
          
          }
          
          
           var altura = superpadre.clientHeight;
		   superpadre.style.bottom = -altura+"px";
          
      });

                 

        
      $('.responsive').slick({
          centerMode: true,
          infinite: false,
          centerPadding: '60px',
          slidesToShow: 5,
          slidesToScroll: 5,
          swipeToSlide:true,
          responsive: [
            {
              breakpoint: 768,
              settings: {
              arrows: false,
              centerMode: true,
              infinite: false,
              centerPadding: '40px',
              slidesToShow: 3,
              slidesToScroll: 3,
              swipeToSlide:true
              }
          },
          {
              breakpoint: 480,
              settings: {
              arrows: false,
              centerMode: true,
              infinite: false,
              centerPadding: '40px',
              slidesToShow: 3,
              slidesToScroll: 1,
              swipeToSlide:true
              }
          }
        ]	});

	
	
	$('.responsive')[0].slick.getSlideCount = function() {
		
		
		console.log('esto está sobreescrito');
		
        var _ = this,
        slidesTraversed, swipedSlide, swipeTarget, centerOffset;

        centerOffset = _.options.centerMode === true ? Math.floor(_.$list.width() / 2) : 0;
        console.log(_.swipeLeft);
        swipeTarget = (_.swipeLeft * -1) + centerOffset;

        if (_.options.swipeToSlide === true) {

            _.$slideTrack.find('.slick-slide').each(function(index, slide) {

                var slideOuterWidth, slideOffset, slideRightBoundary;
                slideOuterWidth = $(slide).outerWidth();
                slideOffset = slide.offsetLeft;
                if (_.options.centerMode !== true) {
                    slideOffset += (slideOuterWidth / 2);
                }

                slideRightBoundary = slideOffset + (slideOuterWidth);

                if (swipeTarget < slideRightBoundary) {
                    swipedSlide = slide;
                    return false;
                }
            });

            slidesTraversed = Math.abs($(swipedSlide).attr('data-slick-index') - _.currentSlide) || 1;

            return slidesTraversed;

        } else {
            return _.options.slidesToScroll;
        }

    };
	

      $('.responsive').on('swipe', function(slick, direction){


        //trataremos de ratornar un valor decente
        /*
        sumaXvel = 0;
                  
        for(var i = 0; i < XSpeed.length; i++){
        
          sumaXvel+=XSpeed[i];
                    
          //if(i==4 && sumaXvel<10)
          //	break;
            
        }


          console.log(XSpeed);	
          console.log('haciendo drag vel: '+(sumaXvel/XSpeed.length));
          */
          /*
          	previeneCambioPorClick = true;
                
          	if(!cargandoEscena){
            escenaporCargar=-1;
            cargarEscena(escenas, direction.currentSlide, hypeDocument);			}else
            	escenaporCargar = direction.currentSlide;
          */
          
          
          //console.log(direction);
      });

      $('.responsive').on('afterChange',  function(slick, currentSlide){
      	
        previeneCambioPorClick = false;
      });

      $('.responsive').on('beforeChange',  function(slick, currentSlide, nextSlide){
      	
      	
        previeneCambioPorClick = true;
      });
      
      


   
     
      
      

  	}

	
	
	function preloadImages(srcs, imgs, callback) {
    
    	var img;
    	var remaining = srcs.length;
    	for (var i = 0; i < srcs.length; i++) {
        	img = new Image();
        	img.onload = function() {
           	 	--remaining;
            	if (remaining <= 0) {
                	callback();
            	}
        };
        img.src = srcs[i];
        imgs.push(img);
        
    	}
	}

	
	var imagenes = [];
	
	//console.log("TEST_1.hyperesources/lazyfonz6.png");

	preloadImages(imageSrcs, imagenes, carruselGenerador);


}

	
  
   function escenaStatus(hypeDocument, element, event) {
   		
   		
   		cargandoEscena = false;
   		
   		var escenas = hypeDocument.sceneNames();
   		
   		if(escenaporCargar >= 0){
   		
   			if( escenas[escenaporCargar]!=hypeDocument.currentSceneName() ){
   			

					cargarEscena(escenas, escenaporCargar, hypeDocument);
   			
   			}
   		
   		}
   		
   		
   		
   		
   		console.log('Termino de Cargar');
   }
   
   function cargarEscena(escenas, indexEscena, hypeDocument){
   
   		   			var ixA = 0;
   				  	
   				  	for(var j = 0; j < escenas.length; j++){
  						if(hypeDocument.currentSceneName()==escenas[j]){
  							ixA = j;
  							break;
  						}
  			
  					}
  					
  					if(ixA > indexEscena){
  							cargandoEscena = true;
  							hypeDocument.showSceneNamed(escenas[indexEscena], hypeDocument.kSceneTransitionPushLeftToRight,0.5);
  				
  					} else if(ixA < indexEscena){
  							cargandoEscena = true;
  							hypeDocument.showSceneNamed(escenas[indexEscena], hypeDocument.kSceneTransitionPushRightToLeft,0.5);
  				
  					}

   
   }
  

  if("HYPE_eventListeners" in window === false) {
    window.HYPE_eventListeners = Array();
  }
  
  
  
  
  
  
  window.HYPE_eventListeners.push({"type":"HypeDocumentLoad", "callback":crearCarrusel});
  window.HYPE_eventListeners.push({"type":"HypeSceneLoad", "callback":escenaStatus});
  //window.HYPE_eventListeners.push({"type":"HypeSceneLoad", "callback":cargaPreviaEscena});
  
	 
	


  	var preComienzoDrag = function(e){
		
		//console.log(this);
		
		for(var i = 0; i < YSpeed.length; i++){
	
				
				YSpeed[i] = 0;
	
				
		}
		
		$( e.target ).stop();
		velY = 0;
		clearInterval(velInterval);
	
	}





// Variable to check if fullscreen is on/off
var db, isfullscreen = false;

//following lines are for "adapt document size to window size" funtion
  function myCallback(hypeDocument, element, event) {
    if (isScalePossible()){
      window.myHypeContainerId = hypeDocument.documentId();
      $('#' + window.myHypeContainerId).css({
        '-moz-transform-origin': '0% 0%',
        '-webkit-transform-origin': '0% 0%',
        '-ms-transform-origin': '0% 0%',
        '-o-transform-origin': '0% 0%',					
        'transform-origin': '0% 0%',
        margin: 0
      });

      scaleSite();
      $(window).resize(scaleSite);
    }
    return true;
  }

   function sceneTitleCallback(hypeDocument, element, event) {
 	//
 	//console.log( hypeDocument.currentSceneName() );
 	scaleSite(); 
	
  }

  if("HYPE_eventListeners" in window === false) {
    window.HYPE_eventListeners = Array();
  }
  
  window.HYPE_eventListeners.push({"type":"HypeDocumentLoad", "callback":myCallback});
  window.HYPE_eventListeners.push({"type":"HypeSceneLoad", "callback":sceneTitleCallback});



  function scaleSite()
  {
  	var hypeContainer = $('#' + window.myHypeContainerId);
    var containerWidth = hypeContainer.width();
    var containerHeight = hypeContainer.height();
    var parentWidth = hypeContainer.parent().width();
    var parentHeight = hypeContainer.parent().height();
    var scaleWidth = parentWidth / containerWidth;
    var scaleHeight = parentHeight / containerHeight;
    var scale = Math.min(scaleWidth, scaleHeight);
    var left = (containerWidth * scale < parentWidth) ? ((parentWidth - (containerWidth * scale)) / 2) + 'px' : '0px';
    var top = (containerHeight * scale < parentHeight) ? ((parentHeight - (containerHeight * scale)) / 2) + 'px' : '0px' ;
    hypeContainer.css({
        "-moz-transform"    : "scale("+scale+")",
        "-webkit-transform" : "scale("+scale+")",
        "-ms-transform"     : "scale("+scale+")",
        "-o-transform"      : "scale("+scale+")",
        "transform"         : "scale("+scale+")",
        "left" : left,
        "top" : top
    });
  }

  function isScalePossible() 
  {
    can = 'MozTransform' in document.body.style;
    if(!can) can = 'webkitTransform' in document.body.style;
    if(!can) can = 'msTransform' in document.body.style;
    if(!can) can = 'OTransform' in document.body.style;
    if(!can) can = 'transform' in document.body.style;
    if(!can) can = 'Transform' in document.body.style;
    return can;
  }
  
  function isPC(){
	
		var ispc = false;

			if( ! ( /(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|ipad|iris|kindle|Android|Silk|lge 	|maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows 	(ce|phone)|xda|xiino/i.test(navigator.userAgent) 
		 || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(navigator.userAgent.substr(0,4)) )  ) { 

		    ispc = true;
			
			}
	
		return ispc;

	}

var ocultaBarra = function(e){
		
		//console.log("ocultar ... ");
		console.log(e);
		
		if( e == undefined )
			return;
		
		//console.log(e.target.parent);
		
		if( superpadre.contains(e.target) )
			return;
		
		//var target = $(e.target);    
    	//if (target.parents( contenedor ).length) {
        //	alert('Your clicked element is having div#hello as parent');
   		 //}
		
		var altura = superpadre.clientHeight;
		var posbottom = parseInt(superpadre.style.bottom);
		//var timeBase = posbottom
		
		if( posbottom < 0)
			$( superpadre ).animate({bottom: 0 }, 'slow' );
		else
			$( superpadre ).animate({bottom: -altura }, 'slow' );
		
	
	}
	
	if( !isPC() )
	document.body.addEventListener('click', ocultaBarra);




</script>

	<!-- end copy -->
  </head>
  <body>
	<!-- copy these lines to your document: -->

	<div id="test1_hype_container" class="HYPE_document" style="margin:auto;position:relative;width:380px;height:650px;overflow:hidden;">
		<script type="text/javascript" charset="utf-8" src="TEST_1.hyperesources/test1_hype_generated_script.js?81055"></script>
	</div>

	<!-- end copy -->
	


	<!-- text content for search engines: -->

	<div style="display:none" aria-hidden=true>

		<div>3</div>
		<div>1</div>
		<div>6</div>
		<div>4</div>
		<div>2</div>
		<div>TITLE</div>
		<div>5</div>

	</div>

	<!-- end text content: -->

  </body>
</html>
